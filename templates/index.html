
<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikVidSave</title>
    <!-- Tailwind CSS-i yükləyirik -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- ************************************ -->
    <!-- GOOGLE ANALYTICS KODU BURADA YERLƏŞDİRİLİR (Yalnız <head> içində) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6DER2XC4BK"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-6DER2XC4BK'); 
    </script>
    <!-- ************************************ -->


    <style>
        /* Fərdi stillər */
        body {
            background-color: #1f2937; /* Dark Slate Blue */
            font-family: 'Inter', sans-serif;
            color: #f3f4f6; /* Light Gray Text */
        }
        .container-card {
            background-color: #374151; /* Darker Gray for Card */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.1);
        }
        .main-content {
            background-color: #111827; /* Extra Dark Blue-Gray for main content section */
            padding: 3rem; /* Daxili boşluq */
        }
        .btn-primary {
            background-color: #ec4899; /* Pink */
            transition: background-color 0.3s;
        }
        .btn-primary:hover {
            background-color: #db2777; /* Darker Pink */
        }
        .input-style {
            background-color: #1f2937; /* Darker background for input */
            color: #f3f4f6;
        }
        /* Status Mesajı üçün əlavə stil */
        #status-message {
            display: none;
            padding: 8px;
            border-radius: 4px;
            margin-top: 10px;
            font-weight: 500;
        }
        /* Reklam Banneri üçün konteyner stili */
        .ad-container {
            margin: 20px auto; 
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #111827; 
            border-radius: 8px;
            overflow: hidden; 
        }

        /* Reklam Mesajı Modalı (Yeni Əlavə) */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.75); /* Tünd, şəffaf arxa fon */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 50; /* Bütün elementlərin üzərində olsun */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        .modal-overlay.open {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background-color: #374151; /* Kart rəngi */
            color: #f3f4f6;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            max-width: 90%;
            width: 400px;
            text-align: center;
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }
        .modal-overlay.open .modal-content {
            transform: scale(1);
        }
        .modal-close-btn {
            background-color: #ec4899;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
            margin-top: 15px;
        }
        .modal-close-btn:hover {
            background-color: #db2777;
        }

        /* Responsive dizayn üçün */
        @media (max-width: 768px) {
            .ad-container {
                max-width: 468px;
                height: 60px; 
            }
        }
    </style>
    <!-- Font Awesome Ikonları üçün -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body class="min-h-screen flex flex-col items-center py-10">
    
    <!-- ************************************ -->
    <!-- REKLAM HAQQINDA MƏLUMAT MODALI (Yeni Əlavə) -->
    <!-- ************************************ -->
    <div id="ad-disclaimer-modal" class="modal-overlay">
        <div class="modal-content">
            <h3 class="text-xl font-bold text-yellow-400 mb-4">Important Notice ⚠️</h3>
            <p class="text-base mb-6">
                The advertisements placed on the site are determined not by us, but by the advertiser network. 
                <br><br>
                We have no connection with the content of these advertisements and are not responsible for them.
            </p>
            <button id="close-modal-btn" class="modal-close-btn">Close and Continue</button>
        </div>
    </div>
    <!-- ************************************ -->


    <!-- ************************************ -->
    <!-- 1. REKLAM YERİ (728x90) - BODY-də görünən banner üçün (YÜKDƏ) -->
    <!-- ************************************ -->
    <div class="ad-container max-w-full md:w-[728px] md:h-[90px] w-full h-[100px] mb-8">
        <!-- Adsterra Reklam Kodu Buradan Başlayır -->
        <script type="text/javascript">
            atOptions = {
                'key' : 'f8e38ed37fb3a23c3e347f9aba142d97',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/f8e38ed37fb3a23c3e347f9aba142d97/invoke.js"></script>
        <!-- Adsterra Reklam Kodu Burada Bitir -->
    </div>
    <!-- ************************************ -->

    <!-- Əsas Yükləmə Kartı -->
    <div class="container-card w-11/12 md:w-1/2 lg:w-1/3 p-6 rounded-xl text-center mb-10">
        <h1 class="text-3xl font-bold mb-6 text-[#ff5577] flex items-center justify-center">
            <i class="fas fa-magic" style="margin-right: 10px;"></i> TikVidSave
        </h1>
        
        <form id="download-form">
            <input type="url" id="tiktok-url" placeholder="Paste the TikTok link here" 
                   class="input-style w-full p-3 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-pink-500 mb-4" 
                   required>
            
            <button type="submit" id="downloadBtn" class="btn-primary w-full p-3 rounded-lg font-semibold flex items-center justify-center">
                Download
            </button>
        </form>

        <!-- Yükləmə Statusu Mesajı -->
        <p id="status-message" class="mt-4 text-sm font-medium"></p>
    </div>

    <!-- Məhsul Haqqında Məlumat Bloku (Bərpa Edilmiş Məzmun) -->
    <div class="main-content w-11/12 md:w-3/4 lg:w-2/3 p-6 rounded-xl mb-10">
        
        <!-- Bütün alt məzmunu mərkəzləşdirmək üçün 'text-center' əlavə edildi -->
        <div class="text-center"> 
            <h2 class="text-3xl font-bold text-yellow-400 mb-4">
                ✨ TikVidSave
            </h2>
            <p class="text-base text-gray-300 mb-8 max-w-3xl mx-auto">
                We help you download your favorite TikTok videos without a watermark and in high-quality MP4 format. Our technology removes the platform's logical imprint during video processing on the server. Our goal is to provide all necessary information so that users can gain the best experience.
            </p>
        </div>

        <!-- Niyə Bizi Seçməlisiniz? Bölməsi -->
        <h3 class="text-xl font-semibold text-pink-400 mb-4 mt-6 text-center">Why Should You Choose Us?</h3>
        <ul class="text-gray-300 list-disc list-inside space-y-2 max-w-3xl mx-auto text-left">
            <li><span class="font-bold text-yellow-300">Watermark-Free Download:</span> Get clean videos without the TikTok logo.</li>
            <li><span class="font-bold text-yellow-300">High Quality:</span> Save videos in original quality in MP4 format..</li>
            <li><span class="font-bold text-yellow-300">Free and Unlimited:</span> No registration is required, and you can download as much as you want..</li>
            <li><span class="font-bold text-yellow-300">Multi-Platform Support:</span> Works on all devices (Android, iOS, PC).</li>
        </ul>

        <!-- Tez-tez Verilən Suallar (FAQ) Bölməsi -->
        <h3 class="text-xl font-semibold text-pink-400 mb-4 mt-10 text-center">
            ❓Frequently Asked Questions (FAQ)
        </h3>
        
        <!-- Sual 1 -->
        <div class="max-w-3xl mx-auto text-left mb-6">
            <h4 class="font-bold text-gray-200 mb-2">How can I download a TikTok video?</h4>
            <p class="text-gray-400 text-sm">
                It's very easy! Click the "Share" button in the TikTok app, select "Copy Link," paste the copied link into the input box above, and press the "Download" button. The process only takes seconds!
            </p>
        </div>
        
        <!-- Sual 2 -->
        <div class="max-w-3xl mx-auto text-left mb-6">
            <h4 class="font-bold text-gray-200 mb-2">Is it possible to download without a watermark?</h4>
            <p class="text-gray-400 text-sm">
                Yes, with our service, you can get high-quality videos in original quality, clean and without the TikTok logo.
            </p>
        </div>
        
        <!-- Sual 3 (Yeni Sual) -->
        <div class="max-w-3xl mx-auto text-left mb-6">
            <h4 class="font-bold text-gray-200 mb-2">Can I use the videos I download for commercial purposes?</h4>
            <p class="text-gray-400 text-sm">
                No, please be careful. We only allow downloading for personal and non-commercial purposes. Using the downloaded video for commercial purposes is only possible with the permission of the video owner. Read the Terms of Use.
            </p>
        </div>

        <!-- Əlaqə Bölməsi -->
        <div class="max-w-3xl mx-auto text-center mt-10 p-4 border-t border-gray-700">
            <h3 class="text-xl font-semibold text-pink-400 mb-2">Contact Us</h3>
            <p class="text-gray-300 mb-2">If you have any questions, technical issues, or suggestions, you can contact us:</p>
            <p class="text-gray-300 font-bold">Email: <a href="mailto:ttvideoyukleme.contact@gmail.com" class="text-blue-400 hover:text-blue-300">ttvideoyukleme.contact@gmail.com</a></p>
        </div>
        
    </div>

    <!-- ************************************ -->
    <!-- 2. REKLAM YERİ (728x90) - Altda təkrar -->
    <!-- ************************************ -->
    <div class="ad-container max-w-full md:w-[728px] md:h-[90px] w-full h-[100px] mt-8">
        <!-- Adsterra Reklam Kodu Buradan Başlayır -->
        <script type="text/javascript">
            atOptions = {
                'key' : 'f8e38ed37fb3a23c3e347f9aba142d97',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/f8e38ed37fb3a23c3e347f9aba142d97/invoke.js"></script>
        <!-- Adsterra Reklam Kodu Burada Bitir -->
    </div>
    <!-- ************************************ -->


    <!-- Footer -->
    <footer class="text-center text-gray-500 text-sm mt-10">
        <p class="mb-2">© 2025 TikVidSave. All rights reserved.</p>
        <p>
            <a href="/privacy" class="text-blue-400 hover:text-blue-300 mx-2">Privacy Policy</a> | 
            <a href="/terms" class="text-blue-400 hover:text-blue-300 mx-2">Terms of Use</a> 
        </p>
    </footer>

    <!-- JavaScript Məntiqi -->
    <script>
        // DOM yüklənən kimi hadisə dinləyicisini əlavə et
        document.addEventListener('DOMContentLoaded', () => {
            const downloadForm = document.getElementById('download-form');
            const urlInput = document.getElementById('tiktok-url');
            const statusMessage = document.getElementById('status-message');
            const downloadBtn = document.getElementById('downloadBtn');
            
            // Modal Elementləri
            const modal = document.getElementById('ad-disclaimer-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const modalShownKey = 'adsterra-disclaimer-shown';

            // Modal Funksionallığı
            if (localStorage.getItem(modalShownKey) !== 'true') {
                // Modal sadəcə bir dəfə göstərilir
                modal.classList.add('open');
            }

            closeModalBtn.addEventListener('click', () => {
                modal.classList.remove('open');
                // Növbəti dəfə göstərilməməsi üçün localStorage-da yadda saxla
                localStorage.setItem(modalShownKey, 'true');
            });
            
            // Yükləmə Funksionallığı (Əvvəlki Kodu Bərpa Edildi)

            // Müraciət formunun təqdim edilməsi hadisəsi
            downloadForm.addEventListener('submit', async (e) => {
                e.preventDefault(); // Səhifənin yenilənməsinin qarşısını al

                const url = urlInput.value.trim();

                if (!url) {
                    statusMessage.textContent = "❌ Please enter the TikTok link.";
                    statusMessage.style.backgroundColor = '#fee2e2'; // Red background
                    statusMessage.style.color = '#dc2626'; // Red text
                    statusMessage.style.display = 'block';
                    return;
                }

                statusMessage.textContent = "⏳ Download is being prepared, please wait...";
                statusMessage.style.backgroundColor = '#fef3c7'; // Yellow background
                statusMessage.style.color = '#d97706'; // Yellow text
                statusMessage.style.display = 'block';
                downloadBtn.disabled = true;

                try {
                    const response = await fetch('/yukle', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ url: url })
                    });

                    const result = await response.json();

                    if (result.success) {
                        // Yükləməni başlatmaq üçün yönləndirmə
                        statusMessage.textContent = "✅ Download complete. You can enter another link..";
                        statusMessage.style.backgroundColor = '#d1fae5'; // Green background
                        statusMessage.style.color = '#059669'; // Green text
                        
                        // Yönləndirməyə 1 saniyəlik gecikmə
                        setTimeout(() => {
                            window.location.href = result.download_url;
                            downloadBtn.disabled = false;
                        }, 1000); 
                        
                    } else {
                        statusMessage.textContent = `❌ Error: ${result.message || 'An unknown error occurred..'}`;
                        statusMessage.style.backgroundColor = '#fee2e2';
                        statusMessage.style.color = '#dc2626';
                        downloadBtn.disabled = false;
                    }

                } catch (error) {
                    console.error('Download Error:', error);
                    statusMessage.textContent = "❌ An error occurred while connecting to the server..";
                    statusMessage.style.backgroundColor = '#fee2e2';
                    statusMessage.style.color = '#dc2626';
                    downloadBtn.disabled = false;
                }
            });
        });
    </script>
</body>
</html>