<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok MP4 Y√ºkl…ôyicisi</title>
    <!-- Tailwind CSS-i y√ºkl…ôyirik -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- ************************************ -->
    <!-- GOOGLE ANALYTICS KODU BURADA YERL∆è≈ûDƒ∞Rƒ∞Lƒ∞R (Yalnƒ±z <head> i√ßind…ô) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6DER2XC4BK"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-6DER2XC4BK'); 
    </script>
    <!-- ************************************ -->

    <!-- ****************************************************** -->
    <!-- YENƒ∞ ∆èLAV∆è: PWA Manifest Linki V∆è Apple Teql…ôri -->
    <!-- T…ôtbiqin adƒ± "TikTok Y√ºkl…ôyici PWA" olaraq t…ôyin edildi. -->
    <!-- ****************************************************** -->
    <link rel="manifest" href="data:application/json;base64,eyJpY29ucyI6IFt7InNyYyI6ICJodHRwczovL3BsYWNlaG9sZC5jby8xOTJ4MTkyL2VjNDg5OS9mZmYifSwgeyJzcmMiOiAiaHR0cHM6Ly9wbGFjZWhvbGQuY28vNTEyeDUxMi9lYzQ4OTkvZmZmIn1dLCAibmFtZSI6ICJUaWtUb2sgWcO8a2zZc2ljaSBBcHAiLCAic2hvcnRfbmFtZSI6ICJUaWtUb2sgUFdBIiwgInN0YXJ0X3VybCI6ICIvIiwgImRpc3BsYXkiOiAic3RhbmRhbG9uZSIgLCAiYmFja2dyb3VuZF9jb2xvciI6ICIjMWYyOTM3IiwgInRoZW1lX2NvbG9yIjogIiNlYzQ4OTkiIH0=">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="https://placehold.co/192x192/ec4899/fff">
    
    <style>
        /* F…ôrdi still…ôr */
        body {
            background-color: #1f2937; /* Dark Slate Blue */
            font-family: 'Inter', sans-serif;
            color: #f3f4f6; /* Light Gray Text */
        }
        .container-card {
            background-color: #374151; /* Darker Gray for Card */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.1);
        }
        .main-content {
            background-color: #111827; /* Extra Dark Blue-Gray for main content section */
            padding: 3rem; /* Daxili bo≈üluq */
        }
        .btn-primary {
            background-color: #ec4899; /* Pink */
            transition: background-color 0.3s;
        }
        .btn-primary:hover {
            background-color: #db2777; /* Darker Pink */
        }
        .input-style {
            background-color: #1f2937; /* Darker background for input */
            color: #f3f4f6;
        }
        /* Status Mesajƒ± √º√ß√ºn …ôlav…ô stil */
        #status-message {
            display: none;
            padding: 8px;
            border-radius: 4px;
            margin-top: 10px;
            font-weight: 500;
        }
        /* Reklam Banneri √º√ß√ºn konteyner stili */
        .ad-container {
            margin: 20px auto; 
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #111827; 
            border-radius: 8px;
            overflow: hidden; 
        }

        /* Reklam Mesajƒ± Modalƒ± */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.75); /* T√ºnd, ≈ü…ôffaf arxa fon */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 50; /* B√ºt√ºn elementl…ôrin √ºz…ôrind…ô olsun */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        .modal-overlay.open {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background-color: #374151; /* Kart r…ôngi */
            color: #f3f4f6;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            max-width: 90%;
            width: 400px;
            text-align: center;
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }
        .modal-overlay.open .modal-content {
            transform: scale(1);
        }
        .modal-close-btn {
            background-color: #ec4899;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
            margin-top: 15px;
        }
        .modal-close-btn:hover {
            background-color: #db2777;
        }

        /* Responsive dizayn √º√ß√ºn */
        @media (max-width: 768px) {
            .ad-container {
                max-width: 468px;
                height: 60px; 
            }
        }
    </style>
    <!-- Font Awesome Ikonlarƒ± √º√ß√ºn -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

    <!-- ****************************************************** -->
    <!-- YENƒ∞ ∆èLAV∆è: Service Worker Kodu (Inline CSS ƒ∞√ßind…ô) -->
    <!-- ****************************************************** -->
    <script>
        const serviceWorkerCode = `
            self.addEventListener('install', (event) => {
                console.log('Service Worker qura≈üdƒ±rƒ±lƒ±r...');
                self.skipWaiting(); /* D…ôrhal aktivl…ô≈üdir */
            });

            self.addEventListener('activate', (event) => {
                console.log('Service Worker aktivl…ô≈üdirildi!');
            });
            
            self.addEventListener('fetch', (event) => {
                // Oflayn m…ôzmun √º√ß√ºn ke≈ül…ôm…ô (caching) m…ôntiqi bura …ôlav…ô edil…ô bil…ôr.
            });
        `;
        
        // Service Worker-i qeydiyyatdan ke√ßirm…ôk √º√ß√ºn Blob (v…ô URL) yaradƒ±lƒ±r.
        const swBlob = new Blob([serviceWorkerCode], { type: 'application/javascript' });
        const swUrl = URL.createObjectURL(swBlob);
    </script>
</head>
<body class="min-h-screen flex flex-col items-center py-10">
    
    <!-- ************************************ -->
    <!-- REKLAM HAQQINDA M∆èLUMAT MODALI -->
    <!-- ************************************ -->
    <div id="ad-disclaimer-modal" class="modal-overlay">
        <div class="modal-content">
            <h3 class="text-xl font-bold text-yellow-400 mb-4">M√ºh√ºm Bildiri≈ü ‚ö†Ô∏è</h3>
            <p class="text-base mb-6">
                Saytda yerl…ô≈üdiril…ôn reklamlar bizim t…ôr…ôfimizd…ôn deyil, reklamver…ôn ≈ü…ôb…ôk…ô t…ôr…ôfind…ôn t…ôyin olunur. 
                <br><br>
                Bu reklamlarƒ±n m…ôzmunu il…ô <span class="font-bold">birba≈üa …ôlaq…ômiz yoxdur</span> v…ô onlara g√∂r…ô m…ôsuliyy…ôt da≈üƒ±mƒ±rƒ±q.
            </p>
            <button id="close-modal-btn" class="modal-close-btn">Baƒüla v…ô Davam et</button>
        </div>
    </div>
    <!-- ************************************ -->


    <!-- ************************************ -->
    <!-- 1. REKLAM YERƒ∞ (728x90) -->
    <!-- ************************************ -->
    <div class="ad-container max-w-full md:w-[728px] md:h-[90px] w-full h-[100px] mb-8">
        <!-- Adsterra Reklam Kodu Buradan Ba≈ülayƒ±r -->
        <script type="text/javascript">
            atOptions = {
                'key' : 'f8e38ed37fb3a23c3e347f9aba142d97',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/f8e38ed37fb3a23c3e347f9aba142d97/invoke.js"></script>
        <!-- Adsterra Reklam Kodu Burada Bitir -->
    </div>
    <!-- ************************************ -->

    <!-- ∆èsas Y√ºkl…ôm…ô Kartƒ± -->
    <div class="container-card w-11/12 md:w-1/2 lg:w-1/3 p-6 rounded-xl text-center mb-10">
        <h1 class="text-3xl font-bold mb-6 text-[#ff5577] flex items-center justify-center">
            <i class="fas fa-magic" style="margin-right: 10px;"></i> TikTok MP4 Y√ºkl…ôyicisi
        </h1>
        
        <form id="download-form">
            <input type="url" id="tiktok-url" placeholder="TikTok linkini bura yapƒ±≈üdƒ±rƒ±n" 
                   class="input-style w-full p-3 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-pink-500 mb-4" 
                   required>
            
            <button type="submit" id="downloadBtn" class="btn-primary w-full p-3 rounded-lg font-semibold flex items-center justify-center">
                Y√ºkl…ô v…ô MP4 …ôld…ô et
            </button>
        </form>

        <!-- ****************************************************** -->
        <!-- YENƒ∞ ∆èLAV∆è: PWA Qura≈üdƒ±rma D√ºym…ôsi -->
        <!-- ****************************************************** -->
        <button id="installButton"
            class="hidden mt-4 w-full py-3 px-6 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg shadow-lg transition duration-200"
            role="button"
            aria-label="T…ôtbiqi Qura≈üdƒ±rƒ±n">
            T…ôtbiqi Qura≈üdƒ±rƒ±n üì≤
        </button>
        <p id="pwa-status-message" class="mt-2 text-xs text-gray-400 font-medium"></p>
        <!-- ****************************************************** -->

        <!-- Y√ºkl…ôm…ô Statusu Mesajƒ± -->
        <p id="status-message" class="mt-4 text-sm font-medium"></p>
    </div>

    <!-- M…ôhsul Haqqƒ±nda M…ôlumat Bloku (B…ôrpa Edilmi≈ü M…ôzmun) -->
    <div class="main-content w-11/12 md:w-3/4 lg:w-2/3 p-6 rounded-xl mb-10">
        
        <!-- B√ºt√ºn alt m…ôzmunu m…ôrk…ôzl…ô≈üdirm…ôk √º√ß√ºn 'text-center' …ôlav…ô edildi -->
        <div class="text-center"> 
            <h2 class="text-3xl font-bold text-yellow-400 mb-4">
                ‚ú® TikTok MP4 Y√ºkl…ôyicisi il…ô Tanƒ±≈ü Olun
            </h2>
            <p class="text-base text-gray-300 mb-8 max-w-3xl mx-auto">
                Siz…ô …ôn sevdiyiniz TikTok videolarƒ±nƒ± filiqransƒ±z (Watermark olmadan) v…ô y√ºks…ôk keyfiyy…ôtd…ô MP4 formatƒ±nda y√ºkl…ôm…ôy…ô k√∂m…ôk edirik. Bizim …ôlimizd…ôki texnologiyamƒ±z videonun serverd…ô emal zamanƒ± platformanƒ±n qoyduƒüu m…ôntiqi √ßƒ±xarƒ±r. M…ôqs…ôdimiz istifad…ô√ßil…ôrin …ôn yax≈üƒ± t…ôcr√ºb…ôni qazanmasƒ± √º√ß√ºn b√ºt√ºn lazƒ±mi m…ôlumatlarƒ± t…ôqdim etm…ôkdir.
            </p>
        </div>

        <!-- Niy…ô Bizi Se√ßm…ôlisiniz? B√∂lm…ôsi -->
        <h3 class="text-xl font-semibold text-pink-400 mb-4 mt-6 text-center">Niy…ô Bizi Se√ßm…ôlisiniz?</h3>
        <ul class="text-gray-300 list-disc list-inside space-y-2 max-w-3xl mx-auto text-left">
            <li><span class="font-bold text-yellow-300">Filiqransƒ±z Y√ºkl…ôm…ô:</span> TikTok-un loqosu olmadan t…ômiz videolar …ôld…ô edin.</li>
            <li><span class="font-bold text-yellow-300">Y√ºks…ôk Keyfiyy…ôt:</span> Videolarƒ± orijinal keyfiyy…ôtd…ô MP4 formatƒ±nda saxlayƒ±n.</li>
            <li><span class="font-bold text-yellow-300">Pulsuz v…ô Limitsiz:</span> He√ß bir qeydiyyat t…ôl…ôb olunmur v…ô ist…ôdiyiniz q…ôd…ôr y√ºkl…ôy…ô bil…ôrsiniz.</li>
            <li><span class="font-bold text-yellow-300">√áoxplatformalƒ± D…ôst…ôk:</span> B√ºt√ºn cihazlarda (Android, iOS, PC) i≈ül…ôyir.</li>
        </ul>

        <!-- Tez-tez Veril…ôn Suallar (FAQ) B√∂lm…ôsi -->
        <h3 class="text-xl font-semibold text-pink-400 mb-4 mt-10 text-center">
            ‚ùì Tez-tez Veril…ôn Suallar (FAQ)
        </h3>
        
        <!-- Sual 1 -->
        <div class="max-w-3xl mx-auto text-left mb-6">
            <h4 class="font-bold text-gray-200 mb-2">TikTok videosunu nec…ô y√ºkl…ôy…ô bil…ôr…ôm?</h4>
            <p class="text-gray-400 text-sm">
                √áox asandƒ±r! TikTok t…ôtbiqind…ôki "Payla≈ü" d√ºym…ôsin…ô basƒ±n, "Link kopyala" se√ßin v…ô kopyaladƒ±ƒüƒ±nƒ±z linki yuxarƒ±dakƒ± giri≈ü qutusuna yapƒ±≈üdƒ±rƒ±b "Y√ºkl…ô" d√ºym…ôsini basƒ±n. Proses c…ômi saniy…ôl…ôr √ß…ôkir!
            </p>
        </div>
        
        <!-- Sual 2 -->
        <div class="max-w-3xl mx-auto text-left mb-6">
            <h4 class="font-bold text-gray-200 mb-2">Filiqransƒ±z y√ºkl…ôm…ôk m√ºmk√ºnd√ºrm√º?</h4>
            <p class="text-gray-400 text-sm">
                B…ôli, bizim xidm…ôtimizl…ô y√ºks…ôk keyfiyy…ôtli, TikTok loqosu olmadan t…ômiz, orijinal keyfiyy…ôtd…ô videolar …ôld…ô ed…ô bil…ôrsiniz.
            </p>
        </div>
        
        <!-- Sual 3 (Yeni Sual) -->
        <div class="max-w-3xl mx-auto text-left mb-6">
            <h4 class="font-bold text-gray-200 mb-2">Y√ºkl…ôdiyim videolarƒ± kommersiya m…ôqs…ôdl…ôri √º√ß√ºn istifad…ô ed…ô bil…ôr…ômmi?</h4>
            <p class="text-gray-400 text-sm">
                Xeyr, l√ºtf…ôn diqq…ôtli olun. Biz yalnƒ±z ≈ü…ôxsi v…ô qeyri-kommersiya m…ôqs…ôdl…ôri √º√ß√ºn y√ºkl…ôm…ôy…ô icaz…ô veririk. Y√ºkl…ônmi≈ü videonun kommersiya m…ôqs…ôdl…ôri √º√ß√ºn istifad…ôsi yalnƒ±z video sahibinin icaz…ôsi il…ô m√ºmk√ºnd√ºr. ƒ∞stifad…ô ≈ü…ôrtl…ôrini oxuyun.
            </p>
        </div>

        <!-- ∆èlaq…ô B√∂lm…ôsi -->
        <div class="max-w-3xl mx-auto text-center mt-10 p-4 border-t border-gray-700">
            <h3 class="text-xl font-semibold text-pink-400 mb-2">Biziml…ô ∆èlaq…ô</h3>
            <p class="text-gray-300 mb-2">H…ôr hansƒ± bir sualƒ±nƒ±z, texniki probleminiz v…ô ya t…ôklifiniz varsa, biziml…ô …ôlaq…ô qura bil…ôrsiniz:</p>
            <p class="text-gray-300 font-bold">Email: <a href="mailto:ttvideoyukleme.contact@gmail.com" class="text-blue-400 hover:text-blue-300">ttvideoyukleme.contact@gmail.com</a></p>
        </div>
        
    </div>

    <!-- ************************************ -->
    <!-- 2. REKLAM YERƒ∞ (728x90) - Altda t…ôkrar -->
    <!-- ************************************ -->
    <div class="ad-container max-w-full md:w-[728px] md:h-[90px] w-full h-[100px] mt-8">
        <!-- Adsterra Reklam Kodu Buradan Ba≈ülayƒ±r -->
        <script type="text/javascript">
            atOptions = {
                'key' : 'f8e38ed37fb3a23c3e347f9aba142d97',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/f8e38ed37fb3a23c3e347f9aba142d97/invoke.js"></script>
        <!-- Adsterra Reklam Kodu Burada Bitir -->
    </div>
    <!-- ************************************ -->


    <!-- Footer -->
    <footer class="text-center text-gray-500 text-sm mt-10">
        <p class="mb-2">¬© 2025 TikTok MP4 Y√ºkl…ôyicisi. B√ºt√ºn h√ºquqlar qorunur.</p>
        <p>
            <a href="/privacy" class="text-blue-400 hover:text-blue-300 mx-2">M…ôxfilik Siyas…ôti</a> | 
            <a href="/terms" class="text-blue-400 hover:text-blue-300 mx-2">ƒ∞stifad…ô ≈û…ôrtl…ôri</a> 
        </p>
    </footer>

    <!-- JavaScript M…ôntiqi -->
    <script>
        // ******************************************************
        // PWA D∆èYƒ∞≈û∆èNL∆èRƒ∞ V∆è FUNKSƒ∞ONALLIƒûI
        // ******************************************************
        let deferredPrompt;
        const installButton = document.getElementById('installButton');
        const pwaStatusMessage = document.getElementById('pwa-status-message');

        // 1. Service Worker-in Qeydiyyatƒ± (swUrl yuxarƒ±da, style blokunda yaradƒ±lƒ±b)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register(swUrl)
                    .then(() => {
                        console.log('SW Uƒüurla Qeydiyyatdan Ke√ßdi.');
                        pwaStatusMessage.textContent = 'T…ôtbiq kimi qura≈üdƒ±rma d…ôst…ôkl…ônir.';
                    })
                    .catch(err => {
                        console.error('SW Qeydiyyatƒ± Uƒüursuz Oldu:', err);
                        pwaStatusMessage.textContent = 'SW qeydiyyat x…ôtasƒ±.';
                    });
            });
        } else {
            pwaStatusMessage.textContent = 'Brauzer PWA-nƒ± d…ôst…ôkl…ômir.';
        }

        // 2. beforeinstallprompt Hadis…ôsini Tutmaq
        window.addEventListener('beforeinstallprompt', (e) => {
            // Brauzerin defolt bildiri≈üini dayandƒ±r
            e.preventDefault();
            
            // Hadis…ôni saxla
            deferredPrompt = e;
            
            // Custom (√∂z√ºm√ºz√ºn) d√ºym…ôsini g√∂r√ºn…ôn et
            installButton.classList.remove('hidden');
            pwaStatusMessage.textContent = 'Ana ekrana …ôlav…ô etm…ôk √º√ß√ºn yuxarƒ±dakƒ± d√ºym…ôy…ô basƒ±n.';
            console.log('beforeinstallprompt hadis…ôsi tutuldu.');

            // D√ºym…ô klikl…ôndikd…ô qura≈üdƒ±rma dialoqunu g√∂st…ôr
            installButton.addEventListener('click', async () => {
                if (deferredPrompt) {
                    installButton.classList.add('hidden');
                    pwaStatusMessage.textContent = 'Qura≈üdƒ±rma prosesi ba≈ülayƒ±r...';
                    
                    deferredPrompt.prompt();
                    
                    const { outcome } = await deferredPrompt.userChoice;
                    
                    if (outcome === 'accepted') {
                        pwaStatusMessage.innerHTML = '<span class="text-green-400 font-bold">Qura≈üdƒ±rma q…ôbul edildi!</span>';
                    } else {
                        pwaStatusMessage.innerHTML = 'Qura≈üdƒ±rma l…ôƒüv edildi. Yenid…ôn c…ôhd ed…ô bil…ôrsiniz.';
                        installButton.classList.remove('hidden'); // L…ôƒüv olunarsa d√ºym…ôni yenid…ôn g√∂st…ôr
                    }
                    
                    deferredPrompt = null;
                }
            });
        });

        // 3. T…ôtbiq Qura≈üdƒ±rƒ±ldƒ±qdan Sonra
        window.addEventListener('appinstalled', () => {
            installButton.classList.add('hidden');
            pwaStatusMessage.innerHTML = '<span class="text-yellow-400 font-bold">T…ôtbiq artƒ±q qura≈üdƒ±rƒ±lƒ±b!</span>';
            console.log('PWA qura≈üdƒ±rƒ±ldƒ±.');
        });
        
        // ******************************************************
        // ∆èSAS Y√úKL∆èM∆è V∆è MODAL M∆èNTƒ∞Qƒ∞
        // ******************************************************
        document.addEventListener('DOMContentLoaded', () => {
            const downloadForm = document.getElementById('download-form');
            const urlInput = document.getElementById('tiktok-url');
            const statusMessage = document.getElementById('status-message');
            const downloadBtn = document.getElementById('downloadBtn');
            
            // Modal Elementl…ôri
            const modal = document.getElementById('ad-disclaimer-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const modalShownKey = 'adsterra-disclaimer-shown';

            // Modal Funksionallƒ±ƒüƒ±
            // Firebase olmadƒ±ƒüƒ± √º√ß√ºn localStorage istifad…ô edilir
            if (typeof localStorage !== 'undefined' && localStorage.getItem(modalShownKey) !== 'true') {
                modal.classList.add('open');
            }

            closeModalBtn.addEventListener('click', () => {
                modal.classList.remove('open');
                if (typeof localStorage !== 'undefined') {
                    localStorage.setItem(modalShownKey, 'true');
                }
            });
            
            // Y√ºkl…ôm…ô Funksionallƒ±ƒüƒ±

            // M√ºraci…ôt formunun t…ôqdim edilm…ôsi hadis…ôsi
            downloadForm.addEventListener('submit', async (e) => {
                e.preventDefault(); // S…ôhif…ônin yenil…ônm…ôsinin qar≈üƒ±sƒ±nƒ± al

                const url = urlInput.value.trim();

                if (!url) {
                    statusMessage.textContent = "‚ùå Z…ôhm…ôt olmasa, TikTok linkini daxil edin.";
                    statusMessage.style.backgroundColor = '#fee2e2'; // Red background
                    statusMessage.style.color = '#dc2626'; // Red text
                    statusMessage.style.display = 'block';
                    return;
                }

                statusMessage.textContent = "‚è≥ Y√ºkl…ônm…ô hazƒ±rlanƒ±r, z…ôhm…ôt olmasa g√∂zl…ôyin...";
                statusMessage.style.backgroundColor = '#fef3c7'; // Yellow background
                statusMessage.style.color = '#d97706'; // Yellow text
                statusMessage.style.display = 'block';
                downloadBtn.disabled = true;

                try {
                    // Qeyd: Bu fetch √ßaƒüƒ±rƒ±≈üƒ± Back-end API-niz…ô y√∂n…ôldir.
                    const response = await fetch('/yukle', { 
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ url: url })
                    });

                    const result = await response.json();

                    if (response.ok && result.success) {
                        // Y√ºkl…ôm…ôni ba≈ülatmaq √º√ß√ºn y√∂nl…ôndirm…ô
                        statusMessage.textContent = "‚úÖ Y√ºkl…ônm…ô tamamlandƒ±. Ba≈üqa link daxil edin.";
                        statusMessage.style.backgroundColor = '#d1fae5'; // Green background
                        statusMessage.style.color = '#059669'; // Green text
                        
                        // Y√∂nl…ôndirm…ôy…ô 1 saniy…ôlik gecikm…ô
                        setTimeout(() => {
                            window.location.href = result.download_url;
                            downloadBtn.disabled = false;
                        }, 1000); 
                        
                    } else {
                        statusMessage.textContent = `‚ùå X…ôta: ${result.message || 'Bilinm…ôy…ôn x…ôta ba≈ü verdi.'}`;
                        statusMessage.style.backgroundColor = '#fee2e2';
                        statusMessage.style.color = '#dc2626';
                        downloadBtn.disabled = false;
                    }

                } catch (error) {
                    console.error('Y√ºkl…ôm…ô x…ôtasƒ±:', error);
                    statusMessage.textContent = "‚ùå Serverl…ô …ôlaq…ô qurulark…ôn x…ôta ba≈ü verdi.";
                    statusMessage.style.backgroundColor = '#fee2e2';
                    statusMessage.style.color = '#dc2626';
                    downloadBtn.disabled = false;
                }
            });
        });
    </script>
</body>
</html>